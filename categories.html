<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Equipment Categories | GearGuard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      :root {
        --bg: #f8f6f4;
        --mint: #d2e9e9;
      }
      body {
        background-color: var(--bg);
        font-family: "Segoe UI", sans-serif;
      }
    </style>
  </head>
  <body class="p-6">
    <div
      class="max-w-5xl mx-auto bg-white rounded-xl shadow-sm border border-[#D2E9E9] overflow-hidden"
    >
      <div class="p-4 border-b flex justify-between items-center">
        <div class="flex items-center space-x-4">
          <button
            onclick="toggleModal('catModal', true)"
            class="border-2 border-black px-4 py-1 rounded-md font-bold hover:bg-black hover:text-white transition-all"
          >
            New
          </button>
          <h1 class="text-xl font-semibold text-gray-700">
            Equipment Categories
          </h1>
        </div>
      </div>

      <div class="overflow-x-auto">
        <table class="w-full text-left" id="catTable">
          <thead
            class="bg-gray-50 border-b text-sm font-semibold text-gray-600"
          >
            <tr>
              <th class="p-4">Name</th>
              <th class="p-4">Responsible</th>
              <th class="p-4">Company</th>
            </tr>
          </thead>
          <tbody class="text-sm divide-y">
            <tr class="hover:bg-[#F8F6F4]">
              <td class="p-4">Computers</td>
              <td class="p-4">OdooBot</td>
              <td class="p-4">My Company (San Francisco)</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div
      id="catModal"
      class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center p-4 z-50"
    >
      <div class="bg-white w-full max-w-md rounded-lg shadow-xl">
        <div class="p-4 bg-[#D2E9E9] font-bold">Add New Category</div>
        <form id="catForm" class="p-6 space-y-4">
          <div>
            <label class="block text-sm font-bold mb-1">Category Name</label>
            <input
              type="text"
              id="cat_name"
              class="w-full border p-2 rounded bg-[#F8F6F4]"
              required
            />
          </div>
          <div>
            <label class="block text-sm font-bold mb-1"
              >Responsible Person</label
            >
            <input
              type="text"
              id="cat_resp"
              class="w-full border p-2 rounded bg-[#F8F6F4]"
              required
            />
          </div>
          <div>
            <label class="block text-sm font-bold mb-1">Company</label>
            <input
              type="text"
              id="cat_comp"
              class="w-full border p-2 rounded bg-[#F8F6F4]"
              required
            />
          </div>
          <div class="flex justify-end space-x-3 pt-4">
            <button
              type="button"
              onclick="toggleModal('catModal', false)"
              class="text-gray-500"
            >
              Cancel
            </button>
            <button
              type="submit"
              class="bg-[#A5D0D0] px-6 py-2 rounded font-bold text-white"
            >
              Add to Table
            </button>
          </div>
        </form>
      </div>
    </div>

    <script>
      function toggleModal(id, show) {
        document.getElementById(id).style.display = show ? "flex" : "none";
      }

      document
        .getElementById("catForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          const name = document.getElementById("cat_name").value;
          const resp = document.getElementById("cat_resp").value;
          const comp = document.getElementById("cat_comp").value;

          const row = `<tr><td class="p-4 font-medium">${name}</td><td class="p-4">${resp}</td><td class="p-4 text-gray-500">${comp}</td></tr>`;
          document
            .querySelector("#catTable tbody")
            .insertAdjacentHTML("beforeend", row);

          this.reset();
          toggleModal("catModal", false);
        });
    </script>
  </body>
</html>
